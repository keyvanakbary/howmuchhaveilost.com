
<!DOCTYPE html>
<html lang="en-GB">
<head>
  <title>How much have I lost after Brexit referendum?</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400" rel="stylesheet">
  <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
  <meta property="og:locale" content="en_GB">
  <meta property="og:type" content="website">
  <meta property="og:title" content="How much have I lost?">
  <meta property="og:description" content="Wondering how much have you lost on the exchange rate after Brexit referendum? Check it out!">
  <meta property="og:url" content="http://howmuchhaveilost.com/">
  <meta property="og:site_name" content="How much have I lost?">
  <meta property="og:image" content="http://howmuchhaveilost.com/social-cover.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="How much have I lost?">
  <meta name="twitter:description" content="Wondering how much have you lost on the exchange rate after Brexit referendum? Check it out!">
  <meta name="twitter:image" content="http://howmuchhaveilost.com/social-cover.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <style>
  body {
    font-family: 'Roboto', sans-serif;
    font-weight: 100;
  }
  h1, h2, h4, strong {
    font-weight: 500;
  }
  .container {
    width: auto;
    max-width: 800px;
  }
  .bg-default {
    background-color: #f7f7f7;
  }
  .head .lead {
    color: #777;
  }

  @media (min-width: 544px) {
  }

  @media (min-width: 768px) {
    .head .lead {
      margin-top: 30px;
    }

    h1 {
      border-left: 2px solid #ccc;
      padding-left: 30px;
    }
  }

  @media (min-width: 992px) {

  }

  @media (min-width: 1200px) {

  }

  </style>
</head>
<body class="text-xs-center">

  <section class="p-t-3">
    <div class="container">
      <div class="row">
        <div class="col-sm-12">
          <svg xmlns="http://www.w3.org/2000/svg" version="1.1"
            viewBox="0 0 310.412 200"
            width="80">
            <g>
              <path d="m145.460022,0l0,2.134979l7.29599,9.071014l0,3.487l-11.716003,-5.623016l-2.210022,0l0,14.772003l2.210022,0l11.716003,-4.957001l0,8.424011c-8.084015,0.871002 -14.299011,5.994995 -14.299011,12.184998c0,6.800995 7.479004,12.322998 16.722015,12.322998c9.242981,0 16.747986,-5.522003 16.747986,-12.322998c0,-5.990997 -5.820007,-10.966003 -13.526001,-12.066986l0,-7.95401l11.662018,4.937012l2.076996,0l0,-13.988007l-2.076996,0l-11.662018,5.583008l0,-4.799011l7.295013,-9.071014l0,-2.134979l-20.235992,0zm7.29599,30.384979l0,7.346008c-3.188995,-0.408997 -6.098999,-1.410004 -8.546997,-2.820984c1.789978,-2.314026 4.880005,-4.001007 8.546997,-4.525024zm5.644989,0.137024c3.675018,0.714996 6.695007,2.613983 8.253998,5.112976c-2.419983,1.163025 -5.23999,1.913025 -8.253998,2.175018l0,-7.287994zm-34.560997,11.460999c-4.202011,0 -7.615997,2.510986 -7.615997,5.60199c0,3.09201 3.413986,5.583984 7.615997,5.583984c4.201012,0 7.614983,-2.491974 7.614983,-5.583984c0,-3.091003 -3.413971,-5.60199 -7.614983,-5.60199zm62.705009,0c-4.201996,0 -7.61499,2.510986 -7.61499,5.60199c0,3.09201 3.412994,5.583984 7.61499,5.583984c4.201981,0 7.61499,-2.491974 7.61499,-5.583984c0,-3.091003 -3.41301,-5.60199 -7.61499,-5.60199zm-34.401001,1.311981c4.42099,0 8.484009,1.098999 11.742004,2.938995c-2.265015,1.584015 -5.335999,2.546021 -8.707001,2.546021c-4.496002,0 -8.440002,-1.726013 -10.677002,-4.32901c2.341003,-0.742004 4.931,-1.156006 7.641998,-1.156006zm-48.38102,2.488007c-3.86499,0 -7.002991,2.308014 -7.002991,5.152008c0,2.843994 3.138,5.152985 7.002991,5.152985c3.866013,0 7.003006,-2.30899 7.003006,-5.152985c0,-2.843994 -3.136993,-5.152008 -7.003006,-5.152008zm102.858009,0c-3.86499,0 -7.001984,2.308014 -7.001984,5.152008c0,2.843994 3.136993,5.152985 7.001984,5.152985c3.865997,0 7.002975,-2.30899 7.002975,-5.152985c0,-2.843994 -3.136978,-5.152008 -7.002975,-5.152008zm-121.124001,6.386993c-3.445007,0 -6.229996,2.049011 -6.229996,4.584015c0,2.535004 2.784988,4.604004 6.229996,4.604004c3.445999,0 6.231003,-2.069 6.231003,-4.604004c0,-2.535004 -2.785004,-4.584015 -6.231003,-4.584015zm139.389992,0c-3.444977,0 -6.22998,2.049011 -6.22998,4.584015c0,2.535004 2.785004,4.604004 6.22998,4.604004c3.446014,0 6.231018,-2.069 6.231018,-4.604004c0,-2.535004 -2.785004,-4.584015 -6.231018,-4.584015zm-91.169006,1.802002l-2.821991,0.313019c-23.889992,2.646973 -46.301994,9.562988 -64.116997,16.847992c-17.815002,7.28598 -30.882004,14.809998 -36.638,19.375l5.432007,3.703003c4.631989,-3.675018 17.584,-11.265015 34.826996,-18.317017c16.516998,-6.755005 37.125992,-13.095001 58.765007,-15.828979c3.167999,5.220978 6.171997,10.039978 9.291992,21.842987l7.27002,0c-3.606018,-13.638 -7.39801,-20.157013 -10.891022,-26.015991l-1.118011,-1.920013zm42.949036,0l-1.119019,1.920013c-3.492981,5.858978 -7.283997,12.377991 -10.889984,26.015991l7.268982,0c3.119995,-11.803009 6.125,-16.622009 9.292999,-21.842987c21.639008,2.733978 42.247009,9.073975 58.764008,15.828979c17.243011,7.052002 30.195007,14.641998 34.828003,18.317017l5.432007,-3.703003c-5.757019,-4.565002 -18.824005,-12.08902 -36.638016,-19.375c-17.814987,-7.285004 -40.227005,-14.201019 -64.116989,-16.847992l-2.821991,-0.313019zm-21.488007,0.372009c-3.529022,0 -6.390015,2.10498 -6.390015,4.701996c0,2.596985 2.860992,4.701996 6.390015,4.701996c3.528992,0 6.389984,-2.105011 6.389984,-4.701996c0,-2.597015 -2.860992,-4.701996 -6.389984,-4.701996zm-85.817009,3.761993c-3.194,0 -5.778,1.901001 -5.778,4.251007c0,2.348999 2.584,4.251007 5.778,4.251007c3.192993,0 5.804001,-1.902008 5.804001,-4.251007c0,-2.350006 -2.611008,-4.251007 -5.804001,-4.251007zm171.660988,0c-3.192993,0 -5.804977,1.901001 -5.804977,4.251007c0,2.348999 2.611984,4.251007 5.804977,4.251007c3.193008,0 5.778,-1.902008 5.778,-4.251007c0,-2.350006 -2.584991,-4.251007 -5.778,-4.251007zm-188.089989,7.601013c-3.025009,0 -5.458008,1.809998 -5.458008,4.035004c0,2.225983 2.432999,4.03598 5.458008,4.03598c3.024994,0 5.485001,-1.809998 5.485001,-4.03598c0,-2.225006 -2.460007,-4.035004 -5.485001,-4.035004zm204.518013,0c-3.025024,0 -5.485016,1.809998 -5.485016,4.035004c0,2.225983 2.459991,4.03598 5.485016,4.03598c3.026001,0 5.458984,-1.809998 5.458984,-4.03598c0,-2.225006 -2.432983,-4.035004 -5.458984,-4.035004zm-102.272003,0.626984c-3.024994,0 -5.458008,1.809998 -5.458008,4.035004c0,2.226013 2.433014,4.015991 5.458008,4.015991c3.024994,0 5.484985,-1.789978 5.484985,-4.015991c0,-2.225006 -2.459991,-4.035004 -5.484985,-4.035004zm-116.837013,7.444c-2.688995,0 -4.873001,1.606995 -4.873001,3.584991c0,1.979004 2.184006,3.585022 4.873001,3.585022c2.688995,0 4.871994,-1.606018 4.871994,-3.585022c0,-1.977997 -2.182999,-3.584991 -4.871994,-3.584991zm233.700996,0c-2.688995,0 -4.872986,1.606995 -4.872986,3.584991c0,1.979004 2.18399,3.585022 4.872986,3.585022c2.688995,0 4.872009,-1.606018 4.872009,-3.585022c0,-1.977997 -2.183014,-3.584991 -4.872009,-3.584991zm-195.971001,0.901001c-7.039993,8.037018 -6.748001,18.382019 -2.449997,29.993011c-32.695007,-10.237 -43.949997,20.61499 -19.171005,29.992981c-1.893997,-7.487976 -0.078995,-15.476013 10.970001,-16.338013c5.910004,-0.460999 12.850998,0.769043 13.686005,8.737c0.587006,5.606018 -5.869995,18.990051 -26.173996,18.807007c-12.687012,-0.11499 -26.235001,-3.612 -32.24501,-18.57196c-2.23999,-5.57605 -2.200989,-5.304016 5.246002,-3.036011c2.914001,0.886963 6.60701,2.729004 12.701004,6.60199c-0.432007,-6.263977 -4.548996,-22.161011 -8.813995,-26.859009c-5.694,2.962036 -6.302002,6.453003 -17.041,8.718018c3.815994,-5.434021 7.355988,-10.979004 12.780991,-17.005005c-11.302994,0.621002 -18.102997,2.61499 -25.560997,3.800995c1.749001,5.337006 3.525002,10.605988 6.07,14.771027c-5.596001,7.982971 -0.913002,11.570984 4.873001,15.45697c2.356003,1.583008 12.994995,24.611023 7.615005,32.461975c-2.835999,4.139038 -1.178009,8.565002 2.742996,10.52002c4.386002,2.187012 8.326004,4.997009 11.901993,7.89502c4.57901,3.710999 3.514008,4.093994 9.133011,1.82196c19.778992,-7.998962 62.904999,-13.497986 112.869987,-13.497986c49.965027,0 93.090027,5.499023 112.869019,13.497986c5.618988,2.272034 4.553986,1.889038 9.132996,-1.82196c3.575989,-2.89801 7.516998,-5.708008 11.902008,-7.89502c3.92099,-1.955017 5.578979,-6.380981 2.742981,-10.52002c-5.378998,-7.850952 5.259003,-30.878967 7.615021,-32.461975c5.78598,-3.885986 10.468994,-7.473999 4.872986,-15.45697c2.545013,-4.165039 4.321991,-9.434021 6.071014,-14.771027c-7.459015,-1.186005 -14.259003,-3.179993 -25.562012,-3.800995c5.425995,6.026001 8.964996,11.570984 12.781006,17.005005c-10.739014,-2.265015 -11.347015,-5.755981 -17.041016,-8.718018c-4.263977,4.697998 -8.381989,20.595032 -8.812988,26.859009c6.092987,-3.872986 9.786011,-5.715027 12.700012,-6.60199c7.447998,-2.268005 7.485992,-2.540039 5.246002,3.036011c-6.009003,14.959961 -19.557007,18.455994 -32.245026,18.57196c-20.303986,0.183044 -26.760986,-13.200989 -26.173981,-18.807007c0.834991,-7.967957 7.776962,-9.197998 13.686005,-8.737c11.049988,0.862 12.863983,8.850037 10.969986,16.338013c24.779007,-9.377991 13.524002,-40.22998 -19.171021,-29.992981c4.299026,-11.610992 4.590012,-21.955994 -2.44899,-29.993011c-8.510986,6.292999 -18.483994,11.622009 -15.203979,28.641998c-6.156006,-3.248993 -11.515015,-6.519989 -17.041016,-5.583984c-7.451004,1.261993 -14.230988,3.487976 -15.52298,12.088013c-0.902008,6.003967 3.790985,11.72998 10.037994,15.436951c0.832977,-5.891968 2.313995,-11.028992 11.262985,-11.185974c10.276016,-0.180969 12.184006,6.062988 11.875,10.969971c-0.426987,6.796021 -12.921005,14.769043 -28.916016,13.890015c-16.032974,-0.880981 -29.927963,-10.934998 -29.68898,-23.117004c5.075989,0.895996 11.462006,4.778015 14.404999,6.642029c0.567017,0.357971 2.546997,0.33197 3.115997,0.35199l0,-25.467987c-0.744995,0.013 -2.27298,-0.144012 -3.169006,0.254974c-4.598999,2.048004 -10.063995,8.548035 -13.259979,7.973022c2.483002,-7.466003 9.264984,-16.444 9.425995,-19.492004l-32.911011,0c0.160004,3.048004 6.942993,12.026001 9.425995,19.492004c-3.195984,0.575012 -8.66098,-5.925018 -13.259979,-7.973022c-0.896027,-0.398987 -2.424011,-0.241974 -3.16803,-0.254974l0,25.467987c0.568024,-0.02002 2.548004,0.005005 3.115021,-0.35199c2.944,-1.864014 9.329987,-5.746033 14.404999,-6.642029c0.239014,12.182007 -13.656006,22.236023 -29.689003,23.117004c-15.994003,0.879028 -28.488998,-7.093994 -28.916,-13.890015c-0.309006,-4.906982 1.598999,-11.15094 11.875,-10.969971c8.949005,0.156982 10.431,5.294006 11.263,11.185974c6.246994,-3.70697 10.940994,-9.432983 10.039001,-15.436951c-1.292007,-8.600037 -8.072998,-10.826019 -15.524002,-12.088013c-5.526001,-0.936005 -10.884995,2.334991 -17.041,5.583984c3.279999,-17.019989 -6.693008,-22.348999 -15.203003,-28.641998zm79.107018,2.291992c-2.184998,0 -3.94101,1.292023 -3.94101,2.900024c0,1.606995 1.756012,2.918976 3.94101,2.918976c2.184998,0 3.96698,-1.311981 3.96698,-2.918976c0,-1.608002 -1.781982,-2.900024 -3.96698,-2.900024zm-128.71302,5.309021c-2.184998,0 -3.966995,1.311981 -3.966995,2.918976c0,1.608002 1.781998,2.900024 3.966995,2.900024c2.184998,0 3.968002,-1.292023 3.968002,-2.900024c0,-1.606995 -1.783005,-2.918976 -3.968002,-2.918976zm257.452003,0c-2.184998,0 -3.96698,1.311981 -3.96698,2.918976c0,1.608002 1.781982,2.900024 3.96698,2.900024c2.184998,0 3.968018,-1.292023 3.968018,-2.900024c0,-1.606995 -1.78302,-2.918976 -3.968018,-2.918976zm-128.738983,25.350006c1.848999,0 3.35498,1.109009 3.35498,2.468994c0,1.359985 -1.505981,2.468018 -3.35498,2.468018c-1.848999,0 -3.328003,-1.108032 -3.328003,-2.468018c0,-1.359985 1.479004,-2.468994 3.328003,-2.468994zm-145.940018,9.638977c1.348999,-0.02002 2.978004,1.598999 3.754005,3.781006c0.828995,2.328003 0.356003,4.422974 -1.03801,4.682007c-1.393997,0.258972 -3.192993,-1.414001 -4.020996,-3.742004c-0.827995,-2.327026 -0.354996,-4.422974 1.039001,-4.682007c0.086998,-0.015991 0.176003,-0.036987 0.265999,-0.039001l0,0zm291.932999,0c0.089996,0.001038 0.179016,0.02301 0.266022,0.039001c1.393982,0.259033 1.867004,2.35498 1.039001,4.682007c-0.828003,2.328003 -2.627014,4.000977 -4.021027,3.742004c-1.393982,-0.259033 -1.865997,-2.354004 -1.037994,-4.682007c0.776001,-2.182007 2.404999,-3.801025 3.753998,-3.781006l0,0zm-145.992981,24.291992l7.85498,9.22699l-7.85498,9.247009l-7.855011,-9.247009l7.855011,-9.22699zm-32.564018,3.194031c2.184998,0 3.966995,1.291992 3.966995,2.898987c0,1.606995 -1.781998,2.919006 -3.966995,2.919006c-2.184998,0 -3.940994,-1.312012 -3.940994,-2.919006c0,-1.606995 1.755997,-2.898987 3.940994,-2.898987zm65.181023,0c2.184982,0 3.940979,1.291992 3.940979,2.898987c0,1.606995 -1.755997,2.919006 -3.940979,2.919006c-2.184021,0 -3.96701,-1.312012 -3.96701,-2.919006c0,-1.606995 1.78299,-2.898987 3.96701,-2.898987zm-95.243019,0.606995c8.093002,0.117004 14.701004,3.263977 15.470001,7.718994c0.878998,5.089966 -6.214005,9.953003 -15.841995,10.852966c-9.629013,0.900024 -18.133011,-2.510986 -19.012009,-7.600952c-0.878998,-5.091003 6.214996,-9.934021 15.843002,-10.834045c1.203995,-0.112 2.384995,-0.153992 3.541,-0.136963l0,0zm125.305,0c1.156006,-0.017029 2.338013,0.024963 3.541016,0.136963c9.627991,0.900024 16.721985,5.743042 15.842987,10.834045c-0.878998,5.089966 -9.382996,8.500977 -19.011002,7.600952c-9.628998,-0.899963 -16.722,-5.763 -15.843002,-10.852966c0.769012,-4.455017 7.377014,-7.60199 15.470001,-7.718994l0,0zm-164.765007,8.227966c2.185013,0 3.96701,1.311035 3.96701,2.919006c0,1.606995 -1.781998,2.899048 -3.96701,2.899048c-2.184998,0 -3.967987,-1.292053 -3.967987,-2.899048c0,-1.607971 1.78299,-2.919006 3.967987,-2.919006zm204.224998,0c2.185028,0 3.968018,1.311035 3.968018,2.919006c0,1.606995 -1.78299,2.899048 -3.968018,2.899048c-2.18399,0 -3.966995,-1.292053 -3.966995,-2.899048c0,-1.607971 1.783005,-2.919006 3.966995,-2.919006zm-132.57299,3.252014c2.184998,0 3.967003,1.291992 3.967003,2.898987c0,1.608032 -1.782005,2.919006 -3.967003,2.919006c-2.184998,0 -3.94101,-1.310974 -3.94101,-2.919006c0,-1.606995 1.756012,-2.898987 3.94101,-2.898987zm60.921013,0c2.184982,0 3.940964,1.291992 3.940964,2.898987c0,1.608032 -1.755981,2.919006 -3.940964,2.919006c-2.185013,0 -3.96701,-1.310974 -3.96701,-2.919006c0,-1.606995 1.781998,-2.898987 3.96701,-2.898987zm-159.439018,2.978027l8.440002,5.053955l-2.449005,7.817017l-8.467987,-5.073975l2.47699,-7.796997zm257.957024,0l2.47699,7.796997l-8.46701,5.073975l-2.449982,-7.817017l8.440002,-5.053955zm-228.189018,5.523987c2.184998,0 3.940994,1.312012 3.940994,2.919006c0,1.607971 -1.755997,2.899963 -3.940994,2.899963c-2.184998,0 -3.966995,-1.291992 -3.966995,-2.899963c0,-1.606995 1.781998,-2.919006 3.966995,-2.919006zm198.421013,0c2.184998,0 3.96698,1.312012 3.96698,2.919006c0,1.607971 -1.781982,2.899963 -3.96698,2.899963c-2.185013,0 -3.94101,-1.291992 -3.94101,-2.899963c0,-1.606995 1.755997,-2.919006 3.94101,-2.919006zm-99.210022,7.013977c-61.678993,0 -111.671989,9.283997 -111.671989,14.554993c0,4.825012 49.992996,13.087036 111.671989,13.087036c61.678009,0 111.671021,-8.262024 111.671021,-13.087036c0,-5.270996 -49.993011,-14.554993 -111.671021,-14.554993z"
              fill="#777777"/>
            </g>
          </svg>
       </div>
     </div>
   </div>
 </section>

  <section class="container">
    <div class="container">
      <div class="row p-t-2 p-b-3 head">
        <div class="col-md-4 text-md-right">
          <p class="lead" >
            Visiting France?<br>
            Holidays in Spain?<br>
            Living in Germany?<br>
            Business in Italy?
          </p>
        </div>
        <div class="col-md-8 text-md-left">
          <h1>Wondering how much have you lost on the exchange rate after <a href="https://twitter.com/search?q=Brexit">#Brexit</a> referendum?</h1>
        </div>
      </div>
    </div>
  </section>

  <section class="bg-default" id="calculate-section">
    <div class="container">
      <div class="row p-t-3 p-b-3">
        <div class="col-sm-12">
          <form class="form-inline">
            <div class="form-group">
              <p class="form-control-static">I've just spent</p>
            </div>
            <div class="form-group">
              <div class="input-group">
                <div class="input-group-addon">£</div>
                <input type="text" class="form-control" placeholder="Amount" value="300" id="amount" autofocus>
              </div>
            </div>
            <div class="form-group">
              <p class="form-control-static">somewhere in Europe</p>
            </div>
          </form>
          <button type="submit" class="btn btn-outline-primary btn-lg m-t-2" id="calculate">Calculate loss</button>
        </div>
      </div>
    </div>
  </section>

  <div class="hidden-xs-up" id="result-section">
    <section class="bg-danger">
      <div class="container">
        <div class="row p-t-3">
          <div class="col-md-9 text-md-right">
            <img src="farage.png" class="m-b-2 hidden-md-up visible-sm-down" width="100">

            <h4 class="m-b-2">You've lost at least <span id="diff"></span>€ on the exchange rate!<sup></sup></h4>

            <p class="lead">
              Your precious £<span id="original"></span> was valued at <strong><span id="before"></span>€ before the referendum</strong>.
              The same amount <strong>today is valued at <span id="after"></span>€</strong> because of Pound devaluation against the Euro.<br>
              <sub><em>£1 = <span id="rate-before"></span>€ before brexit / £1 = <span id="rate-after"></span>€ <strong>today's <a href="https://transferwise.com/mid-market-rate" class="text-warning">mid-market rate</a></strong></em>
            </p>

          </div>
          <div class="col-md-3 text-md-left hidden-sm-down visible-md-up">
            <img src="farage.png" width="100">
          </div>
        </div>
        <div class="row p-b-3">
          <div class="col-xs-12 text-xs-center">
            <hr class="m-t-2 m-b-3">

            <h5 class="m-b-2">Used a bank to get Euros? Could have been worse!</h5>

            <p>If you used a bank, add another <span id="hidden-fees"></span>€ to the equation, <u class="lead"><strong>a total loss of <span id="total"></span>€</strong></u>. Banks and other money providers like currency shops add an extra ~5% hidden fee markup on top of the exchange rate.</p>

            <a href="/" class="text-warning m-r-1"><strong>Try again</strong></a>
            <a href="http://stophiddenfees.co.uk/" class="text-warning"><strong>Read more</strong></a>
          </div>
        </div>
      </div>
    </section>

    <section class="">
      <div class="container">
        <div class="row p-t-3 p-b-3">
          <div class="col-sm-12">
            <h4 class="m-b-2">Mourn my loss</h4>
            <a target="_blank" id="share-twitter" href="https://twitter.com/intent/tweet?text=Wondering how much have you lost on the exchange rate after Brexit referendum? Check it out!&amp;url=href=http://howmuchhaveilost.com/" class="btn btn-lg btn-outline-primary">Twitter</a>
          </div>
        </div>
      </div>
    </section>
  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.0.0/jquery.min.js" integrity="sha384-THPy051/pYDQGanwU6poAc/hOdQxjnOEXzbT+OuUAFqNqFjL+4IGLBgCJC3ZOShY" crossorigin="anonymous"></script>

  <script>
    var ExchangeRate = {
      get: function(route, callback) {
        $.ajax({
          type: 'GET',
          url: 'http://query.yahooapis.com/v1/public/yql?q=select * from yahoo.finance.xchange where pair in ("' + route + '")&env=store://datatables.org/alltableswithkeys',
          dataType: 'xml',
          success: function(xml) {
            callback(parseFloat($(xml).find('Rate').text()));
          }
        });
      }
    };

    var HashValue = function(onChange) {
      var
        hash = function() {
          return window.location.hash;
        },
        hashValue = function() {
          return parseInt(hash().replace(/^#/,''));
        },
        setValue = function(value) {
          window.location.hash = value;
          onChange(value);
        };

      if (hash()) {
        onChange(hashValue());
      }

      $(window).on('hashchange', function() {
        if (!hash()) {
          return;
        }
        onChange(hashValue())
      });

      return {
        set: setValue
      }
    };

    var BrexitCalculator = {
      calculate: function(rateBefore, rateAfter, amountPounds) {
        var
          before = amountPounds * rateBefore,
          after = amountPounds * rateAfter,
          diff = before - after,
          inverseAfter = 1/rateAfter;

        return {
          before: before,
          after: after,
          diff: diff,
          diffPounds: diff * inverseAfter
        };
      }
    };

    var App = function(elements) {
      var
        CLASS = {
          HIDDEN: 'hidden-xs-up'
        },
        RATE_BEFORE = 1.31,//rate GBP-EUR
        HIDDEN_FEES = 0.05,
        rateOriginal = null,
        rateAfter = null,
        selectedAmount = null,
        calculate = function(amount)  {
          selectedAmount = amount;
          elements.amountField.val(amount);
          elements.calculateButton.text('Calculating…')
          elements.calculateButton.addClass('disabled');

          if (!rateAfter) {
            ExchangeRate.get('GBPEUR', function(todayRate) {
              rateOriginal = todayRate;
              rateAfter = todayRate * (1 - HIDDEN_FEES);
              calculate(amount);
            });
            return;
          }
          elements.resultSection.removeClass(CLASS.HIDDEN);
          elements.calculateSection.addClass(CLASS.HIDDEN);
          elements.originalField.text(amount);

          var result = BrexitCalculator.calculate(RATE_BEFORE, rateOriginal, amount);
          elements.diffField.text(Math.round(result.diff));
          elements.beforeField.text(Math.round(result.before));
          elements.afterField.text(Math.round(result.after));
          elements.rateBefore.text(RATE_BEFORE);
          elements.rateAfter.text(rateOriginal);

          elements.hiddenFees.text(Math.round(amount * HIDDEN_FEES));
          elements.total.text(Math.round(result.diff) + Math.round(amount * HIDDEN_FEES));
        },
        navigateToAmount = function() {
          hashValue.set(elements.amountField.val());
        },
        openPopUp = function(url) {
          var w = 600;
          var h = 600;
          window.open(url, '', 'toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width='+w+', height='+h+', top='+ ((screen.height/2) - (h/2)) +', left='+ ((screen.width/2) - (w/2)));
        },
        shareOnTwitter = function(e) {
          e.preventDefault();
          var result = BrexitCalculator.calculate(RATE_BEFORE, rateOriginal, selectedAmount);
          var text = "Wow, I've lost " + Math.round(result.diff) + "€ already because of #Brexit. How much have you lost? howmuchhaveilost.com #howMuchHaveYouLost";
          openPopUp('https://twitter.com/intent/tweet?text=' + encodeURIComponent(text) + '&amp;url=href=http://howmuchhaveilost.com/')
        },
        init = function() {
          hashValue = HashValue(calculate);
          elements.calculateButton.on('click', navigateToAmount);
          elements.shareTwitter.on('click', shareOnTwitter)
        };

        return {
          init: init
        };
    };

    App({
      calculateButton: $('#calculate'),
      resultSection: $('#result-section'),
      calculateSection: $('#calculate-section'),
      amountField: $('#amount'),
      originalField: $('#original'),
      diffField: $('#diff'),
      afterField: $('#after'),
      beforeField: $('#before'),
      rateBefore: $('#rate-before'),
      rateAfter: $('#rate-after'),
      hiddenFees: $('#hidden-fees'),
      total: $('#total'),
      shareTwitter: $('#share-twitter')
    }).init();
  </script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-83723109-1', 'auto');
    ga('send', 'pageview');
  </script>
</body>
</html>
